!function(t,e,i){"use strict";function a(t){var i=this;if(!t)throw new Error("请传入配置项");var a=t.container;1!==a.nodeType&&(a=e.querySelector(a)),i=Util.extend(i,r,t),i.dom=a,i.bodyEle=a.querySelector("[data-role=body]"),i.headEle=a.querySelector("[data-role=head]"),i.headChildEle=i.headEle.querySelectorAll("[data-target]"),i.bodyChildEle=i.bodyEle.querySelectorAll("[data-id]"),i._setBodyStyle(i.bodyEle),i.pageWidth=e.body.offsetWidth,i.activeCls&&i.addActive(i.activeCls,i.activeIndex),i.isSwipe&&i._screenMove(i.itemClick),i._initListeners(a,i.triggerEvent,i.itemClick),i._resize()}var r={isSwipe:!1,triggerEvent:"tap",activeCls:"",activeIndex:0,itemClick:function(){}};a.prototype={addActive:function(t,e){var i=this.dom,a=i.querySelectorAll("[data-target]");this.addClass(a[e],t),this._transfrom(this.bodyEle,-(e*this.pageWidth))},_initListeners:function(t,e,i){var a=(this.dom,this),r=this.headEle,s=this.bodyEle,n=this.bodyChildEle,o=a.activeCls;r.addEventListener(e,function(t){for(var e=t.target;e&&!e.hasAttribute("data-target");)e=e.parentNode;var r=e.dataset.target,d=s.querySelector('[data-id="'+r+'"]'),l=a.index(d,n);if(o){var c=a.siblings(e);a.addClass(e,o),a.removeClass(c,o)}a._transfrom(s,-(l*a.pageWidth)),i.call(t.target,t)})},addClass:function(t,e){Array.isArray(t)?t.forEach(function(t){t.classList.add(e)}):t.classList&&t.classList.add(e)},removeClass:function(t,e){Array.isArray(t)?t.forEach(function(t){t.classList.remove(e)}):t.classList.remove(e)},contains:function(t,e){return t.classList.contains(e)},setProperty:function(t,e){var i=e.property,a=e.value;Array.isArray(t)?t.forEach(function(t){t.style[i]=a}):t.style[i]=a},siblings:function(t){var e,i=[];try{e=t.parentNode.children}catch(a){return}for(var r=0,s=e.length;r<s;r++)t!=e[r]&&i.push(e[r]);return i},_screenMove:function(t){this.currentPostion=this.currentPostion||0;var e,i,a=this,r=this.dom,s=this.bodyEle,n=-this.pageWidth*(s.children.length-1),o=0,d=0,l=0,c="left",h=!1;r.addEventListener("touchstart",function(t){var r=t.touches[0];e=r.pageX,i=r.pageY,d=a.currentPostion,s.style.webkitTransition="",l=+new Date,h=!1}),r.addEventListener("touchmove",function(t){var r=t.touches[0],l=r.pageX,f=r.pageY,u=l-e,v=f-i;if(Math.abs(u)>Math.abs(v)){t.preventDefault(),o=u;var y=d+u;y<=0&&y>=n&&(a._transfrom(s,y),h=!0),c=u>0?"right":"left"}}),r.addEventListener("touchend",function(e){var i=0,r=a.currentPostion,d=+new Date-l,f=a.pageWidth;if(h){s.style.webkitTransition=".6s ease transform",d<300?(i="left"==c?r-(f+o):r+f-o,i=i>0?0:i,i=i<n?n:i):Math.abs(o)/f<.5?i=r-o:(i="left"==c?r-(f+o):r+f-o,i=i>0?0:i,i=i<n?n:i),a._transfrom(s,i);var u=Math.abs(a.currentPostion)/Math.abs(f);a._switchHead(u),t.call(a.headChildEle[u],e)}})},_switchHead:function(t){var e=this.headChildEle,i=this,a=e[t],r=i.siblings(a);i.addClass(a,i.activeCls),i.removeClass(r,i.activeCls)},_transfrom:function(t,e){t.style.webkitTransform="translate3d("+e+"px,0,0)",this.currentPostion=e},index:function(t,e){for(var i=0,a=e.length;i<a;i++)if(t==e[i])return i},_setBodyStyle:function(t){var e=t.children,i=100*e.length;t.style.cssText="display: flex; width: "+i+"%; overflow: hidden; transform: translate3d(0, 0, 0);";for(var a=0,r=e.length;a<r;a++)e[a].style.width="100%"},_resize:function(){var t=this;window.addEventListener("resize",function(){t.pageWidth=e.body.offsetWidth})}},i.TabView=a}({},document,window);